<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>API test</title>
</head>
<body>

	<button onclick="loadProfile()">load profile</button>

	<div>
		<h3>Load post(s)</h3>
		<input type="text" id="post-id">
		<button onclick="loadAllPosts()">load all posts</button>
		<button onclick="loadPost()">load post</button>
		<button onclick="votePost()">vote post</button>
		<button onclick="unvotePost()">unvote post</button>
	</div>

	<form action="/post/create" method="post" enctype="multipart/form-data">
		<h3>Creating new post</h3>
		<p>title: </p>
		<input type="text" name="postTitle" id="postTitle" required>
		<p>description: </p>
		<input type="text" name="postDescription" id="postDescription" required>
		<p>picture: </p>
	  <input type="file" name="imageFile" required />
	  <input type="submit" value="Submit">
	</form>

<!-- Import Axios -->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

	<script>
		function loadProfile() {
		  axios.get("/auth/profile").then(response => {
        console.log(response.data);
      })
		}

		function loadAllPosts() {
		  axios.get("/post/loadall").then(response => {
        console.log(response.data);
      })
		}

		function loadPost() {
			let id = document.getElementById('post-id').value;
		  axios.post("/post/load", {postId : id}).then(response => {
        console.log(response.data);
      })
		}

		function votePost() {
			let id = document.getElementById('post-id').value;
		  axios.post("/post/vote", {postId : id}).then(response => {
        console.log(response.data);
      })
		}

	  function unvotePost() {
			let id = document.getElementById('post-id').value;
		  axios.post("/post/unvote", {postId : id}).then(response => {
        console.log(response.data);
      })
		}
	</script>

</body>
</html>